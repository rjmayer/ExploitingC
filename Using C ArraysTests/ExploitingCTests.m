//
//  Using_C_ArraysTests.m
//  Using C ArraysTests
//
//  Created by Richard Mayer on 24/06/2013.
//  Copyright (c) 2013 Richard Mayer. All rights reserved.
//

#import "ExploitingCTests.h"

#import "NSDictionaryAsConst.h"

@implementation ExploitingCTests

- (void)setUp
{
    [super setUp];
    
    // Set-up code here.
}

- (void)tearDown
{
    // Tear-down code here.
    
    [super tearDown];
}

- (void)testFruitTypeApple
{
    // Test Condition
    NSNumber* fruitTypeIndex = [NSNumber numberWithInt:FruitTypeApple];
    
    // The Test
    NSDictionaryAsConst* unitUnderTest = [[NSDictionaryAsConst alloc] init];
    
    NSDictionary* result = [unitUnderTest dictionaryForFruit:FruitTypeApple];
    
    // Evaluation 1
    // Check that the wrapper dict is correct
    STAssertNotNil([result objectForKey:fruitTypeIndex], @"SHIT");
    
    // Evaluation 2
    // Check that the contents are correc
    NSDictionary* fruitDefinition = [result objectForKey:fruitTypeIndex];
    
    NSLog(@"FruitTypeApple's name is '%@' it's colour is '%@'",
          [fruitDefinition objectForKey:@"Name"],
          [fruitDefinition objectForKey:@"Colour"]);
}

- (void)testFruitTypeBanana
{
    // Test Condition
    NSNumber* fruitTypeIndex = [NSNumber numberWithInt:FruitTypeBanana];
    
    // The Test
    NSDictionaryAsConst* unitUnderTest = [[NSDictionaryAsConst alloc] init];
    
    NSDictionary* result = [unitUnderTest dictionaryForFruit:FruitTypeBanana];
    
    // Evaluation 1
    // Check that the wrapper dict is correct
    STAssertNotNil([result objectForKey:fruitTypeIndex], @"SHIT");
    
    // Evaluation 2
    // Check that the contents are correc
    NSDictionary* fruitDefinition = [result objectForKey:fruitTypeIndex];
    
    NSLog(@"FruitTypeBanana's name is '%@' it's colour is '%@'",
          [fruitDefinition objectForKey:@"Name"],
          [fruitDefinition objectForKey:@"Colour"]);
}

- (void)testFruitTypeDefault
{
    // Test Condition
    NSNumber* fruitTypeIndex = [NSNumber numberWithInt:FruitTypeDefault];
    
    // The Test
    NSDictionaryAsConst* unitUnderTest = [[NSDictionaryAsConst alloc] init];
    
    NSDictionary* result = [unitUnderTest dictionaryForFruit:FruitTypeDefault];
    
    // Evaluation 1
    // Check that the wrapper dict is correct
    STAssertNotNil([result objectForKey:fruitTypeIndex], @"SHIT");
    
    // Evaluation 2
    // Check that the contents are correc
    NSDictionary* fruitDefinition = [result objectForKey:fruitTypeIndex];
    
    NSLog(@"FruitTypeDefault's name is '%@' it's colour is '%@'",
          [fruitDefinition objectForKey:@"Name"],
          [fruitDefinition objectForKey:@"Colour"]);
}

- (void)testFruitTypeUnknown
{
    // Test Condition
    NSNumber* fruitTypeIndex = [NSNumber numberWithInt:FruitTypeUnknown];
    
    // The Test
    NSDictionaryAsConst* unitUnderTest = [[NSDictionaryAsConst alloc] init];
    
    NSDictionary* result = [unitUnderTest dictionaryForFruit:FruitTypeUnknown];
    
    // Evaluation 1
    // Check that the wrapper dict is correct
    STAssertNil([result objectForKey:fruitTypeIndex], @"SHIT");
    
    // Evaluation 2
    // Check that the contents are correc
    NSDictionary* fruitDefinition = [result objectForKey:fruitTypeIndex];
    
    NSLog(@"FruitTypeUnknown's name is '%@' it's colour is '%@'",
          [fruitDefinition objectForKey:@"Name"],
          [fruitDefinition objectForKey:@"Colour"]);
}

- (void)testFruitTypeInvalid
{
    // Test Condition
    NSNumber* fruitTypeIndex = [NSNumber numberWithInt:INT16_MIN];
    
    // The Test
    NSDictionaryAsConst* unitUnderTest = [[NSDictionaryAsConst alloc] init];
    
    NSDictionary* result = [unitUnderTest dictionaryForFruit:INT16_MIN];
    
    // Evaluation 1
    // Check that the wrapper dict is correct
    STAssertNil([result objectForKey:fruitTypeIndex], @"SHIT");
}

@end
